<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loading...</title>
    <script>
        // Get delay time from URL parameter or use default
        const urlParams = new URLSearchParams(window.location.search);
        const delay = parseInt(urlParams.get('delay')) || 500; // Default delay is 500 milliseconds

        // Redirect after the specified delay
        setTimeout(() => {
            document.body.style.transition = 'background-color 0.5s ease';
            document.body.style.backgroundColor = 'var(--white-background)';
            setTimeout(() => {
                window.location.replace("https://fossil-coyote-022.notion.site/Rashi-M-140f819a4b6f800e9481d22876e61c68?pvs=74");
            }, 500); // Wait for fade-out effect before redirecting
        }, delay);
    </script>
    <style>
        :root {
            --light-background: #f5f5f5;
            --dark-background: #333;
            --white-background: #ffffff;
            --spinner-border-light: rgba(255, 255, 255, 0.2);
            --spinner-border-dark: rgba(0, 0, 0, 0.2);
            --spinner-top-light: #333;
            --spinner-top-dark: #fff;
            --spinner-duration: 1.5s; /* Adjustable spinner duration */
            --gradient-light-end: #e0e0e0;
            --gradient-dark-end: #222;
        }

        /* Basic reset and centering */
        body {
            margin: 0;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.5s ease, opacity 0.5s ease;
            opacity: 0;
        }

        body.fade-in {
            opacity: 1;
        }

        body.fade-out {
            opacity: 1;
            background-color: var(--white-background) !important; /* Fade background to white */
        }

        /* Light mode styles */
        body.light-mode {
            background: linear-gradient(135deg, var(--light-background), var(--gradient-light-end));
        }

        /* Dark mode styles */
        body.dark-mode {
            background: linear-gradient(135deg, var(--dark-background), var(--gradient-dark-end));
        }

        /* Spinner animation */
        .spinner {
            width: 30px;
            height: 30px;
            border: 3px solid var(--spinner-border-light); /* Adjust to be subtle in both modes */
            border-top-color: var(--spinner-top-light); /* Dark color for light mode */
            border-radius: 50%;
            animation: spin var(--spinner-duration) cubic-bezier(0.25, 1, 0.5, 1) infinite;
            box-shadow: 0 0 8px rgba(0, 0, 0, 0.1);
        }

        /* Dark mode spinner color */
        body.dark-mode .spinner {
            border: 3px solid var(--spinner-border-dark);
            border-top-color: var(--spinner-top-dark);
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.2);
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: scale(0.8);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }
    </style>
</head>
<body>
    <div class="spinner"></div>
    <script>
        // Function to detect and apply system preference
        function applySystemPreference() {
            const prefersDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches;
            if (prefersDarkMode) {
                document.body.classList.add("dark-mode");
            } else {
                document.body.classList.add("light-mode");
            }
            // Add fade-in effect
            document.body.classList.add("fade-in");
        }

        // Initial application of system preference
        window.addEventListener('DOMContentLoaded', applySystemPreference);

        // Listen for changes in the system preference
        window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change", (e) => {
            document.body.classList.toggle("dark-mode", e.matches);
            document.body.classList.toggle("light-mode", !e.matches);
        });
    </script>
</body>
</html>
